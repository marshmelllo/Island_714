<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_player_fists</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1</depth>
  <persistent>-1</persistent>
  <parentName>bandit_par</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>c4=0;
clay = 0;
image_speed=0;
canShoot=true;
legIn=0;
friction=0.5
gun[]=weapon.awp[]
hp=150;
dead=false
recoil=0;
deadObj=player_dead
bullets=0;
global.showView=false;
global.darkness=0.4
seen=false;
lastHit = 0;
streak=0;
lStreak=0
streakCount=0;
scoped=false;
flashed=false;
canMove=true;
ambSound=sound_forest_ambience;

messages[0,0]= 0
messages[0,1]= 0
messages[0,2]= 0
messages[0,3]= 0

messages[1,0]= 0
messages[1,1]= 0
messages[1,2]= 0
messages[1,3]= 0
messages[1,4]= 0
messages[1,5]= 0
messages[1,6]= 0
messages[1,7]= 0

messages[2,0]=0;
messages[2,1]=0;
messages[2,2]=0;

messages[3,0]=0;
messages[3,1]=0;

messages[4,0]=0;
messages[4,1]=0;
messages[4,2]=0;

messages[5,0]=0;

messages[6,0]=0;
messages[6,1]=0;

messages[7,0]=0;
messages[7,1]=0;

messages[8,0]=0;
messages[8,1]=0;
messages[8,2]=0;
messages[8,3]=0;
messages[8,4]=0;
messages[8,5]=0;
messages[8,6]=0;

messages[9,0]=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ini_open("winDat.ini");
 var restart = ini_read_real("control","restart",1);
ini_close();
if(restart=1){
with(solid_par)instance_destroy();
with(obj_bloodSurf)instance_destroy();
surface_set_target(global.esurf);
draw_clear_alpha(c_black,0);
surface_reset_target();
game_load("save.dat")
ini_open("winDat.ini");
ini_write_real("control","restart",0);
ini_close();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*var i = irandom(2)
switch(i){
case 0: audio_play_sound(sound_area_clear,9,0); break;
case 1: audio_play_sound(sound_area_secure,9,0); break;
case 2: audio_play_sound(sound_enemy_down,9,0); break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_index=0
flashed=false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>canShoot=true;
image_speed=0
image_index=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///shooting
if(dead=false &amp;&amp; canMove=true){
if(canShoot ){
if(bullets&gt;0){
if(gun[11]="spray"){
if(mouse_check_button(mb_left)){
playerShoot();
}
}
else if(gun[11]="tap" || gun[11]="sniper"){
if(mouse_check_button_pressed(mb_left)){
playerShoot()
}
}
else if(gun[11] = "shotgun"){
if(mouse_check_button_pressed(mb_left)){
for(var b = -gun[14]; b&lt;gun[14]; b+=(gun[14]*2)/gun[13]){
fire=instance_create(x + lengthdir_x(gun[9], image_angle) - lengthdir_y(gun[10], image_angle), y + lengthdir_y(gun[9]-15, image_angle) + lengthdir_x(gun[10], image_angle),bullet);
if(distance_to_object(crosshair)&lt;95){
fire.image_angle=player.image_angle+ b
}
else{fire.image_angle=point_direction(fire.x,fire.y,mouse_x,mouse_y)+b}
fire.avoid=object_index
fire.direction=fire.image_angle;
fire.speed=40;
fire.damage=gun[8];
fire.maker=image_angle
fire.collat=gun[1];
}
shel=instance_create(x + lengthdir_x(gun[9]-10, image_angle) - lengthdir_y(gun[10]-8, image_angle), y + lengthdir_y(gun[9]-15, image_angle) + lengthdir_x(gun[10]-8, image_angle),shell);
shel.sprite_index=gun[2];
var direc = point_direction(player.x,player.y,shel.x,shel.y)+random_range(-5,5)-90;
shel.image_angle=direc
flase=instance_create(x + lengthdir_x(gun[9], image_angle) - lengthdir_y(gun[10], image_angle), y + lengthdir_y(gun[9], image_angle) + lengthdir_x(gun[10], image_angle),flash);
glowe=instance_create(x + lengthdir_x(gun[9], image_angle) - lengthdir_y(gun[10], image_angle), y + lengthdir_y(gun[9], image_angle) + lengthdir_x(gun[10], image_angle),glow);
smoke=instance_create(x + lengthdir_x(gun[9], image_angle) - lengthdir_y(gun[10], image_angle), y + lengthdir_y(gun[9], image_angle) + lengthdir_x(gun[10], image_angle),dust_hit_new);
smoke.image_alpha=0.5
flase.image_angle=player.image_angle;
glowe.image_angle=player.image_angle;
if(collision_line(fire.x,fire.y,player.x,player.y,solid_par,1,0)){with(fire)instance_destroy();}
audio_play_sound(gun[4],10,0);
image_index=1;
alarm[1]=2
alarm[0]=gun[7];
canShoot=false;
bullets-=1;
scr_checkSound();
flashed=true;
}
}

}else{if(mouse_check_button_pressed(mb_left)){
if!(audio_is_playing(sound_noBullets))
if!(gun[0]=bullet)
audio_play_sound(sound_noBullets,10,0)}}

//knife
if(gun[0]=bullet &amp;&amp; knife=true){
if(mouse_check_button(mb_left)){
if(canShoot){
if!(distance_to_object(bandit)&lt;30){if!(distance_to_object(zombie)&lt;30){
if(distance_to_object(solid_par)&lt;35){

if(collision_line(x,y,x+lengthdir_x(55,image_angle),y+lengthdir_y(55,image_angle),solid_par,1,0)){
audio_play_sound(instance_nearest(x,y,solid_par).sound,10,0);
}

else{audio_play_sound(sound_knife_swing,10,0)}
}
else{audio_play_sound(sound_knife_swing,10,0)}
}}
alarm[0]=18
canShoot=false;
image_speed=0.5
}
with(bandit){if(distance_to_object(player)&lt;35){if(collision_line(player.x,player.y,mouse_x,mouse_y,self.id,1,0)||place_meeting(x,y,player)){if!(collision_line(x,y,player.x,player.y,solid_par,1,1))hp=0; knifeBlood();}}}
with(zombie){if(distance_to_object(player)&lt;35){if(collision_line(player.x,player.y,mouse_x,mouse_y,self.id,1,0)||place_meeting(x,y,player)){if!(collision_line(x,y,player.x,player.y,solid_par,1,1))hp=0; knifeBlood();}}}
with(obj_bigCrate){if(distance_to_object(player)&lt;35){if(collision_line(player.x,player.y,mouse_x,mouse_y,self.id,1,0)){hp=0;}}}
}
}
}
if(gun[11]="sniper"){
if(mouse_check_button_pressed(mb_right) &amp;&amp; canShoot=true){
if(scoped){scoped=false;  view_visible[1]=false; view_visible[0]=true;}
else{scoped=true; /*view_visible[0]=false; view_visible[1]=true;with(camera002){x=player.x;y=player.y;}*/}
}
}
if(gun[11]!="sniper" &amp;&amp; scoped=true){
scoped=false;  view_visible[1]=false; view_visible[0]=true;
}
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(gun[11]!="shotgun")
if(canShoot){
if(recoil&gt;gun[13]){
recoil-=gun[13]
}
else{recoil=0};
}
if(recoil&gt;gun[14]){
recoil=gun[14];
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///movement
if(dead=false &amp;&amp; canMove=true){
if(keyboard_check(vk_shift)){isSprinting=true;}else{isSprinting=false;}
if(keyboard_check(ord("W")) &amp;&amp; y&gt;60){
if(isSprinting){vspeed=-6;}
else{vspeed=-4;}
}
if(keyboard_check(ord("S"))&amp;&amp;y&lt;room_height-60){
if(isSprinting){vspeed=6}
else{vspeed=4;}
}
if(keyboard_check(ord("A"))&amp;&amp; x&gt;60){
if(isSprinting){hspeed=-6}
else{hspeed=-4;}
}
if(keyboard_check(ord("D"))&amp;&amp; x&lt;room_width-60){
if(isSprinting){hspeed=6;}
else{hspeed=4;}
}
turn=12;
lookDir=point_direction(x,y,mouse_x,mouse_y)
image_angle += median(-turn, turn, ((((lookDir - image_angle) mod 360) + 540) mod 360) - 180);


/*image_angle=point_direction(x,y,mouse_x,mouse_y);
if(vspeed&amp;gt;4){vspeed=4}
if(hspeed&amp;gt;4){hspeed=4}
if(vspeed&amp;lt;-4){vspeed=-4}
if(hspeed&amp;lt;-4){hspeed=-4}*/
if(abs(speed)&gt;0){legIn+=abs(speed)/28}
else {legIn=0;}
}

if(speed&lt;6){
if(audio_is_playing(sound_running)){audio_stop_sound(sound_running)}
if!(audio_is_playing(sound_walking)){audio_play_sound(sound_walking,10,0)}
}
else{
if(audio_is_playing(sound_walking)){audio_stop_sound(sound_walking)}
if!(audio_is_playing(sound_running)){audio_play_sound(sound_running,10,0)}
}
if(speed&lt;0.5){
if(audio_is_playing(sound_walking)){audio_stop_sound(sound_walking)}
if(audio_is_playing(sound_running)){audio_stop_sound(sound_running)}
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///sprites
if(dead=false){
sprite_index=gun[3];
}
if(gun[0]=bullet &amp;&amp; knife=false){
sprite_index=spr_player_fists;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///collisions
if(collision_circle(x + lengthdir_x(15, direction) + hspeed, y + lengthdir_y(15, direction) - vspeed, 15, solid_par, 1, 1)) { // Horizontal collision
    hspeed = 0; // Stop horizontal movement
}
if(collision_circle(x + lengthdir_x(15, direction) - hspeed, y + lengthdir_y(15, direction) + vspeed, 15, solid_par, 1, 1)) { // Vertical collision
    vspeed = 0; // Stop vertical movement
}

if(collision_circle(x + lengthdir_x(15, direction) + hspeed, y + lengthdir_y(15, direction) - vspeed, 15, obj_sandbags, 1, 1)) { // Horizontal collision
    hspeed = 0; // Stop horizontal movement
}
if(collision_circle(x + lengthdir_x(15, direction) - hspeed, y + lengthdir_y(15, direction) + vspeed, 15, obj_sandbags, 1, 1)) { // Vertical collision
    vspeed = 0; // Stop vertical movement
}

if(collision_circle(x + lengthdir_x(15, direction) + hspeed, y + lengthdir_y(15, direction) - vspeed, 15, obj_door, 1, 1)) { // Horizontal collision
    hspeed = 0; // Stop horizontal movement
}
if(collision_circle(x + lengthdir_x(15, direction) - hspeed, y + lengthdir_y(15, direction) + vspeed, 15, obj_door, 1, 1)) { // Vertical collision
    vspeed = 0; // Stop vertical movement
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///other
if(hp&lt;1){
if(dead=false){
instance_create(x,y,blood_spray)
instance_create(x,y,blood_mist)
instance_create(x,y,blood_drip)

repeat 4{
ID=instance_create(x+lengthdir_x(20,direction),y+lengthdir_y(20,direction),hit_blood);
ID.image_angle=image_angle
with (ID)motion_set(image_angle+200-10+random(20),6+random(3));
}

repeat 2{
ID2=instance_create(x+lengthdir_x(20,direction),y+lengthdir_y(20,direction),hit_splat);
ID2.image_angle=image_angle
with (ID2)motion_set(image_angle+200-10+random(20),2+random(1));
}

alarm[3]=15
speed=0
scoped=false;
dead=true;
repeat(2){
instance_create(x,y,blood_drip);
}
instance_create(x,y,blood)
}
if(keyboard_check_pressed(vk_space)){
with(solid_par)instance_destroy();
with(obj_bloodSurf)instance_destroy();
audio_stop_all();
surface_set_target(global.esurf);
draw_clear_alpha(c_black,0);
surface_reset_target();
game_load("save.dat")

  }}
count = 0
with(bandit){
if!(mood="idol" || mood="patrol"){
player.count++;
}
else{break;}
}
if(count=instance_number(bandit)){seen=false}
else{seen=true;}

if!(instance_exists(crosshair)){instance_create(0,0,crosshair)}
if(keyboard_check_pressed(ord("R"))){
with(solid_par)instance_destroy();
with(obj_bloodSurf)instance_destroy();
surface_set_target(global.esurf);
draw_clear_alpha(c_black,0);
surface_reset_target();
game_load("save.dat")
}
//doors
if(distance_to_object(obj_door)&lt;20 &amp;&amp; keyboard_check_pressed(vk_space)){
with(instance_nearest(x,y,obj_door)){doorOpen(player,1)}

}
if(instance_number(bandit)=0){
if(audio_is_playing(sound_enemy_spotted)){audio_stop_sound(sound_enemy_spotted)}
if(audio_is_playing(sound_enemy_spotted2)){audio_stop_sound(sound_enemy_spotted2)}
if(audio_is_playing(sound_see_someone)){audio_stop_sound(sound_see_someone)}
}
if(dead=false){
lastHit++;
if(lastHit&gt;350){
if(hp&lt;76){
hp+=0.5;
}
}
}
if(visible){
if!(audio_is_playing(ambSound)){
audio_play_sound(ambSound,10,0)
}
}
else{
if(audio_is_playing(ambSound)){
audio_stop_sound(ambSound);
}
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///gun pickin' up
if(dead=false){
if(distance_to_object(pickup_par) &lt; 20){
var pickup = instance_nearest(x,y,pickup_par)
if(!collision_line(pickup.x,pickup.y,x,y,solid_par,1,1))
if(keyboard_check_pressed(ord("E"))){
if(pickup.name="health"){hp+=pickup.amount}
with(pickup){instance_destroy();}
audio_play_sound(sound_health_pickup,10,0)
}
}


else if(distance_to_object(weapon_par) &lt; 20){
var ident = instance_nearest(x,y,weapon_par)
if(!collision_line(ident.x,ident.y,x,y,solid_par,1,1))
if(keyboard_check_pressed(ord("E"))){
if!(gun[0]=bullet){
drop=instance_create(x,y,gun[0])
drop.bullets=bullets;
if(speed=0){drop.direction=player.image_angle}
else{drop.direction=player.direction}
drop.speed=player.speed+3.7
drop.friction=0.2
drop.image_angle=player.image_angle+random_range(-5,5)
}
gun[]=ident.gunID; 
bullets=ident.bullets
audio_play_sound(sound_gun_load,10,0)
with(ident){instance_destroy();}
}
}
if(keyboard_check_pressed(ord("G"))){
if!(gun[0]=bullet){
drop=instance_create(x,y,gun[0])
drop.bullets=bullets;
if(speed=0){drop.direction=player.image_angle}
else{drop.direction=player.direction}
drop.speed=player.speed+3.7
drop.friction=0.2
drop.image_angle=player.image_angle+random_range(-5,5)
gun[]=weapon.none;
}
}
if(distance_to_object(weapon_c4)&lt;15){
with(instance_nearest(x,y,weapon_c4)){instance_destroy();}
audio_play_sound(sound_C4_pickup,10,0)
c4++;
}
if(distance_to_object(weapon_claymore)&lt;15){
with(instance_nearest(x,y,weapon_claymore)){instance_destroy();}
audio_play_sound(sound_C4_pickup,10,0)
clay++;
}
if(distance_to_object(weapon_knife)&lt;20){
knife=true;
with(weapon_knife){instance_destroy();}
audio_play_sound(sound_knife_deploy,10,0)
}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///kill streaks
if(streak&gt;lStreak){
lStreak++;
}
if(streakCount&gt;0){
streakCount-=1;
}
if(streakCount=0){
lStreak=0;
streak=0;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///c4 &amp; claymore
if(canMove=true){
if(c4&gt;0){
if(keyboard_check_released(ord("F"))){
bomb=instance_create(x,y,bomb_c4);
bomb.image_angle=image_angle;
c4-=1;
}
}
if(clay&gt;0){
if(keyboard_check_released(ord("C"))){
bomb=instance_create(x+lengthdir_x(10,image_angle),y+lengthdir_y(10, image_angle),bomb_claymore);
bomb.image_angle=image_angle;
clay-=1;
}
}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///messages
if(room=room1_1){
if(x&gt;140 &amp;&amp; messages[0,0]=0){
text("Use [SHIFT] to sprint");
messages[0,0]=1;
}
else if(abs(speed)&gt;=7 &amp;&amp; messages[0,1]=0){
text("Find a weapon");
messages[0,1]=1;
}
else if(knife=true &amp;&amp; messages[0,2]=0){
text("Use [LEFT MOUSE] to break the boxes");
messages[0,2]=1;
}
else if(messages[0,3]=0 &amp;&amp; !instance_exists(obj_bigCrate)){
text("Continue your journey");
messages[0,3]=1;
}
else if(distance_to_object(roomEnd)&lt;30){
room_goto_next();
}
}

if(room=room1_2){
if(messages[1,0]=0){
text("Find an explosive device");
messages[1,0]=1;
}
else if(messages[1,1]=0 &amp;&amp; c4=1){
text("Press [F] to plant C4 near a metal door");
messages[1,1]=1;
}
else if(messages[1,7]=0 &amp;&amp; c4=0 &amp;&amp; instance_number(bomb_c4)=1){
text("Press [T] to detonate the C4");
messages[1,7]=1;
}
else if(messages[1,2]=0 &amp;&amp; messages[1,1]=1 &amp;&amp; c4=false &amp;&amp; instance_number(bomb_c4)=0 &amp;&amp; instance_number(obj_metalDoor)&lt;2){
text("Kill everything");
messages[1,2]=1;
}
else if(messages[1,3]=0 &amp;&amp; messages[1,1]=1 &amp;&amp; c4=false &amp;&amp; instance_number(bomb_c4)=0 &amp;&amp; instance_number(obj_metalDoor)=2){
text("Press [R] to restart");
messages[1,3]=1;
}
else if(messages[1,4]=0 &amp;&amp; instance_number(bandit)=0){
text("Pick up the Bandit's weapon");
messages[1,4]=1;
}
else if(messages[1,5]=0 &amp;&amp; gun[0]=weapon_1911){
text("Survive the mutant attack");
messages[1,5]=1
repeat(4){
zom=instance_create(80+random(20),736+random_range(-20,20),zombie)
zom.mood="seen";
zom.lastX=player.x
zom.lastY=player.y
}
}
else if(messages[1,6]=0 &amp;&amp; instance_number(zombie)=0 &amp;&amp; messages[1,5]=1){
text("Continue through forest");
messages[1,6]=1;
}
else if(distance_to_object(roomEnd)&lt;30  &amp;&amp; messages[1,6]=1){
room_goto_next();

global.darkness+=0.1;
}
}
if(room=room1_3){
if(messages[2,0]=0){
text("Get inside the shelter");
messages[2,0]=1
}
else if(messages[2,1]=0 &amp;&amp; x&gt;560 &amp;&amp; y&gt;256){
canMove=false;
if(global.darkness&lt;1){
global.darkness+=0.01;
}
else{roomStart.x=player.x; roomStart.y=player.y;room_goto(room_endDay1);visible=false;messages[2,1]=1;global.darkness=0.05;}
}

else if(distance_to_object(roomEnd)&lt;30){
room_persistent=false;
room_goto(room_2_1);
x=256;
y=32;
}
}
if(room=room_2_1){
if(messages[3,0]=0 &amp;&amp; speed&gt;1){
text("Kill all enemies.");
messages[3,0]=1
}
else if(messages[3,1]=0 &amp;&amp; instance_number(bandit)=0 &amp;&amp; instance_number(zombie)=0){
text("Look for any supplies that may be useful");
messages[3,1]=1;
}
else if(distance_to_object(roomEnd)&lt;30 &amp;&amp; messages[3,1]=1){
room_goto_next();

}
}
if(room=room_2_2){
if(messages[4,0]=0 &amp;&amp; instance_number(bandit)=0){
text("Operate the radio");
messages[4,0]=1
}
else if(distance_to_object(obj_radio)&lt;20 &amp;&amp; messages[4,1]=0 &amp;&amp; messages[4,0]=1){
if!(collision_line(x-lengthdir_x(10,image_angle),y-lengthdir_y(10,image_angle),x+lengthdir_x(50,image_angle),y+lengthdir_y(50,image_angle),obj_radio,1,1)){
turn=5;
lookDir=point_direction(x,y,obj_radio.x,obj_radio.y)
image_angle += median(-turn, turn, ((((lookDir - image_angle) mod 360) + 540) mod 360) - 180);
canMove=false
legIn=0;
}
else{
audio_play_sound(speech_radio,10,0)

messages[4,1]=1
}
}
else if(!audio_is_playing(speech_radio) &amp;&amp; messages[4,2]=0){if(messages[4,1]=1){with(obj_radio){instance_destroy();}
file_delete("save.dat") 
game_save("save.dat")
canMove=true;
//play "THERE IS HE IS, GET HIM" sound!
ban=instance_create(959,1,bandit)
ban.mood="seen";
ban.lastX=player.x;
ban.lastY=player.y;
ban.gun[]=banditWeapon.p90;
messages[4,2]=1;
  }}


else if(distance_to_object(roomEnd)&lt;30  &amp;&amp; instance_number(bandit)=0 &amp;&amp; messages[4,1]=1){
room_goto_next();

}

}
if(room=room_2_3){
if(instance_number(bandit)=0 &amp;&amp; instance_number(zombie)=0){
if(distance_to_object(roomEnd)&lt;30){
room_goto_next();

y=roomStart.y
}
}
}
if(room=room_2_4){
if(messages[6,0]=0 &amp;&amp; distance_to_object(obj_batteries)&lt;5){
canMove=false;
with(obj_batteries)instance_change(obj_radio,0);
audio_play_sound(speech_no_signal,10,0)
text("Batteries added to radio");
messages[6,0]=1
}
else if(messages[6,0]=1 &amp;&amp; messages[6,1]=0&amp;&amp;!audio_is_playing(speech_no_signal)){
if(instance_exists(obj_radio)){with(obj_radio){instance_destroy()}}
if(global.darkness&lt;1){
global.darkness+=0.01;
}
else if(messages[6,1]=0){roomStart.x=player.x; roomStart.y=player.y;room_goto(room_endDay2); global.darkness=0.1;visible=false;messages[6,1]=1}
}

if(messages[6,1]=1 &amp;&amp; distance_to_object(roomEnd)&lt;30){
room_persistent=false;
room_goto(room_3_1);
x=32;
y=400;
}
}
if(room=room_3_1){
if(messages[7,0]=0){
text("Kill all bandits");
messages[7,0]=1;
}
else if(instance_number(bandit)=0 &amp;&amp; messages[7,1]=0){
text("Take the stairs up");
messages[7,1]=1;
}
else if(messages[7,1]=1){
if(distance_to_object(roomEnd)&lt;30){
room_goto_next();

}
}
}
if(room=room_3_2){
ambSound=sound_building_ambience
if(instance_number(bandit)=0){
if(distance_to_object(roomEnd)&lt;30){
room_goto_next();

}
}
}
if(room=room_3_3){
if(instance_number(bandit)=0){
if(distance_to_object(roomEnd)&lt;30){
room_goto_next();
}
}
}

if(room=room_3_4){
if(instance_number(bandit)=0){
if(distance_to_object(roomEnd)&lt;30){
room_goto_next();

}
}
}

if(room=room_3_5){
if(instance_number(bandit)=0){
if(distance_to_object(roomEnd)&lt;30){
room_goto_next();

}
}
}

if(room=room_3_6){
if(instance_number(bandit)=0){
if(distance_to_object(roomEnd)&lt;30){
room_goto_next();

}
}
}
if(room=room_3_7){ 

ambSound=sound_wind_ambience;
if(messages[8,0]=0){
text("Clear the rooftop");
messages[8,0]=1;
}
else if(messages[8,1]=0 &amp;&amp; instance_number(bandit)=0){
text("Press [T] to place the radio")
messages[8,1]=1
}
else if(messages[8,1]=1 &amp;&amp; messages[8,2]=0){
if(keyboard_check_pressed(ord("T"))){
instance_create(x+lengthdir_x(20,image_angle), y+lengthdir_y(20,image_angle),obj_radio);
messages[8,2]=1;
}
}
else if(messages[8,2]=1 &amp;&amp; messages[8,3]=0){
canMove=false;
audio_play_sound(sound_broadcast1,10,0)
messages[8,3]=1;
}
else if(messages[8,3]=1 &amp;&amp; messages[8,4]=0){
if!(audio_is_playing(sound_broadcast1)){
audio_play_sound(sound_broadcast2,10,0)
messages[8,4]=1;
}
}
else if(messages[8,4]=1 &amp;&amp; messages[8,5]=0){
if!(audio_is_playing(sound_broadcast2)){
if(instance_exists(obj_radio)){with(obj_radio){instance_destroy()}}
audio_play_sound(speech_someoneheardthis,10,0)
messages[8,5]=1;
}
}
else if(messages[8,5]=1){
if!(audio_is_playing(speech_someoneheardthis)){
if(global.darkness&lt;1){
global.darkness+=0.01;
}
else{room_goto(room_endDay3); global.darkness=0.1;visible=false}
}
}
}
if(room=room_4_1){
if(messages[9,0]=0){
if(audio_is_playing(sound_wind_ambience)){audio_stop_sound(sound_wind_ambience)}
ambSound=sound_forest_ambience;
gun[]=weapon.remington[];
bullets=20;
hp=250;
text("[RIGHT CLICK] to scope in");
messages[9,0]=1;
}
if(distance_to_object(roomEnd)&lt;20 &amp;&amp; instance_number(bandit)=0){
room_goto_next()
}
}





</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="explosion">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(instance_nearest(x,y,explosion).image_index)&lt;5{
hp=0;
if(hp&lt;=0 &amp;&amp; dead =false){
if(!audio_is_playing(sound_hit1)){
if(!audio_is_playing(sound_hit2)){
if(!audio_is_playing(sound_hit3)){
audio_play_sound(choose(sound_hit1,sound_hit2,sound_hit3),10,0)
}}}

instance_create(x,y,blood_spray)
instance_create(x,y,blood_mist)
instance_create(x,y,blood_drip)

repeat 4{
ID=instance_create(x+lengthdir_x(20,direction),y+lengthdir_y(20,direction),hit_blood);
ID.image_angle=random(360)
with (ID)motion_set(image_angle+200-10+random(20),6+random(3));
}

repeat 2{
ID2=instance_create(x+lengthdir_x(20,direction),y+lengthdir_y(20,direction),hit_splat);
ID2.image_angle=random(360)
with (ID2)motion_set(image_angle+200-10+random(20),2+random(1));
}
repeat 2{
ID2=instance_create(x+lengthdir_x(20,direction),y+lengthdir_y(20,direction),hit_splat2);
ID2.image_angle=random(360)
with (ID2)motion_set(image_angle+200-10+random(20),2+random(1));
}
if(hp&lt;=0 &amp;&amp; dead=false &amp;&amp; !instance_exists(player_dead))
{
audio_play_sound(choose(sound_enemy_down,sound_area_secure,sound_area_clear),10,0)
body=instance_create(x,y,deadObj);
body.image_angle=image_angle
}
}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(hp&lt;75){hp=75}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(dead=false){
draw_sprite_ext(sprite_index,image_index,x+6,y+6,1,1,image_angle,c_black,0.5)
draw_sprite_ext(spr_legs,legIn,x,y,1,1,image_angle,-1,1)
draw_self();
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="116">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(bandit){hp=0}
with(zombie){hp=0}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto(room_3_5);
x=1200;
y=1200;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto(room_mainMenu);
window_set_fullscreen(0)
audio_stop_all();
with(crosshair){instance_destroy()}

instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>22,23</point>
    <point>54,54</point>
  </PhysicsShapePoints>
</object>
